<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Purity Predictor</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <a href="/">‚Üê Back</a>
            <h2>üçØ Judge Your Honey's Purity</h2>
        </header>
        <main>
            <form method="post" action="/purity">
                <div class="form-group">
                    <label for="CS">Color Score (CS) <span class="input-hint">(1.0‚Äì10.0)</span></label>
                    <input type="number" step="any" name="CS" id="CS" required>
                </div>
                <div class="form-group">
                    <label for="Density">Density <span class="input-hint">(1.21‚Äì1.86 g/cm¬≥ at 25¬∞C)</span></label>
                    <input type="number" step="any" name="Density" id="Density" required>
                </div>
                <div class="form-group">
                    <label for="WC">Water Content (WC) <span class="input-hint">(12.0%‚Äì25.0%)</span></label>
                    <input type="number" step="any" name="WC" id="WC" required>
                </div>
                <div class="form-group">
                    <label for="pH">pH <span class="input-hint">(2.50‚Äì7.50)</span></label>
                    <input type="number" step="any" name="pH" id="pH" required>
                </div>
                <div class="form-group">
                    <label for="EC">Electrical Conductivity (EC) <span class="input-hint">(mS/cm)</span></label>
                    <input type="number" step="any" name="EC" id="EC" required>
                </div>
                <div class="form-group">
                    <label for="F">Fructose Level (F) <span class="input-hint">(20‚Äì50)</span></label>
                    <input type="number" step="any" name="F" id="F" required>
                </div>
                <div class="form-group">
                    <label for="G">Glucose Level (G) <span class="input-hint">(20‚Äì45)</span></label>
                    <input type="number" step="any" name="G" id="G" required>
                </div>
                <div class="form-group">
                    <label for="PollenPlant">Pollen Plant <span class="input-hint">(see dropdown)</span></label>
                    <select name="PollenPlant" id="PollenPlant" required>
                        <option value="" disabled selected>Select a pollen plant</option>
                        {% for plant in pollen_plant_options %}
                        <option value="{{ plant }}">{{ plant }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="Viscosity">Viscosity <span class="input-hint">(1500‚Äì10000 cP, optimal: 2500‚Äì9500)</span></label>
                    <input type="number" step="any" name="Viscosity" id="Viscosity" required>
                </div>
                <div class="form-group">
                    <label for="Price">Price <span class="input-hint">(calculated)</span></label>
                    <input type="number" step="any" name="Price" id="Price" required>
                </div>
                <button type="submit" class="main-btn">Predict Purity & Price</button>
            </form>
        </main>
    </div>
    {% if purity or predicted_price or deal %}
    <div id="resultModal" class="modal">
        <div class="modal-content large-modal">
            <button class="close" onclick="closeModal()">&times;</button>
            {% if purity %}<p class="answer-text">üçØ <span style="font-size:2rem;">Predicted Purity:</span><br>{{ purity }}</p>{% endif %}
            {% if predicted_price %}<p class="answer-text">üí∞ <span style="font-size:2rem;">Predicted Price:</span><br>{{ predicted_price }}</p>{% endif %}
            {% if deal %}<p class="answer-text">üè∑Ô∏è <span style="font-size:2rem;">Deal Verdict:</span><br>{{ deal }}</p>{% endif %}
        </div>
    </div>
    <script>
    function closeModal() {
        document.getElementById('resultModal').classList.remove('active');
    }
    window.onload = function() {
        var modal = document.getElementById('resultModal');
        if (modal) {
            modal.classList.add('active');
        }
    };
    </script>
    {% endif %}
</body>
</html> 